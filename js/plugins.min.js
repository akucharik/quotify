"use strict";function _classCallCheck(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};/** @license paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/ */
window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){var s,e=arguments;e.callee=e.callee.caller,s=[].slice.call(e),"object"===_typeof(console.log)?log.apply.call(console.log,console,s):console.log.apply(console,s)}},function(s){function e(){}for(var t,i="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");t=i.pop();)s[t]=s[t]||e}(function(){try{return console.log(),window.console}catch(s){return window.console={}}}()),function(s){var e=function(){function e(t){var i=this,o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=o.ellipsisCssClass,r=n===undefined?"quoteify-ellipsis":n,l=o.expanded,a=l!==undefined&&l,h=o.minWordCount,d=h===undefined?15:h,u=o.readMoreLessCssClass,p=u===undefined?"quoteify-more-less":u,c=o.readMoreCssClass,f=c===undefined?"quoteify-more":c,C=o.readLessCssClass,y=C===undefined?"quoteify-less":C,x=o.readMoreText,m=x===undefined?"Read More":x,g=o.readLessText,T=g===undefined?"Read Less":g;_classCallCheck(this,e);var $=s(t);this.minWordCount=d,this.words=this._getWords($),this.aboveWordThreshold=this.words.length>this.minWordCount,this.baseText=this._getBaseText(this.words,d),this.moreText=this._getMoreText(this.words,d),this.source=this._getSource($),this.el=this.aboveWordThreshold?$.clone().empty()[0]:t,this.$el=s(this.el),this.ellipsisCssClass=r,this.expanded=!this.aboveWordThreshold||a,this.moreTextCssClass="quoteify-more-text",this.readMoreLessCssClass=p,this.readMoreCssClass=f,this.readLessCssClass=y,this.readMoreText=m,this.readLessText=T,this.$ellipsis=null,this.$moreText=null,this.$readMore=null,this.$readLess=null,this.aboveWordThreshold&&(this.$el.on("click","."+this.readMoreCssClass,function(){i.show()}),this.$el.on("click","."+this.readLessCssClass,function(){i.hide()}),this.$el.data("quoteify",this))}return e.prototype.render=function(){return this.aboveWordThreshold&&(this.$el.html(this.baseText+'<span class="'+this.moreTextCssClass+'">'+this.moreText+'</span><span class="'+this.ellipsisCssClass+'" aria-hidden="true">&hellip;</span>'+this.source+'<div class="'+this.readMoreLessCssClass+'" aria-hidden="true"><span class="'+this.readMoreCssClass+'">'+this.readMoreText+'</span><span class="'+this.readLessCssClass+'">'+this.readLessText+"</span></div>"),this.$ellipsis=this.$el.find("."+this.ellipsisCssClass),this.$moreText=this.$el.find("."+this.moreTextCssClass),this.$readMore=this.$el.find("."+this.readMoreCssClass),this.$readLess=this.$el.find("."+this.readLessCssClass),this.update()),this},e.prototype.update=function(){return this.expanded?(this.$ellipsis.hide(),this.$moreText.show(),this.$readMore.hide(),this.$readLess.show()):(this.$ellipsis.show(),this.$moreText.hide(),this.$readMore.show(),this.$readLess.hide()),this},e.prototype.setExpanded=function(s){return s!==this.expanded&&(this.expanded=s,this._onExpandedChange()),this},e.prototype.show=function(){return this.setExpanded(!0),this},e.prototype.hide=function(){return this.setExpanded(!1),this},e.prototype._getWords=function(s){var e=s.contents()[0].nodeValue;return e.substring(0,e.lastIndexOf('"')+1).split(" ")},e.prototype._getBaseText=function(s,e){return s.slice(0,e).join(" ")},e.prototype._getMoreText=function(s,e){return" "+s.slice(e).join(" ")},e.prototype._getSource=function(e){var t=e.contents()[0].nodeValue,i=s(e.contents()[1]).clone();return s("<div></div>").append(t.substring(t.lastIndexOf('"')+1)).append(i).html()},e.prototype._onExpandedChange=function(){return this.update(),this},e}();s.fn.quoteify=function(t){return this.each(function(){var i=s(this),o=i.find("li"),n=s();o.each(function(){var s=new e(this,t);n=n.add(s.render().$el)}),i.html(n)}),this}}(jQuery);